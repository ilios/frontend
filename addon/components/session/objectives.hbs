<section
  class="session-objectives {{if this.showCollapsible "collapsible"}}"
  {{did-insert this.load @session}}
  {{did-update this.load @session @session.objectives}}
  data-test-session-objectives
>
  <div class="header">
    <h3 class="title {{if this.showCollapsible "clickable collapsible"}}" data-test-title>
      <button type="button" {{on "click" this.collapse}}>
        {{t "general.objectives"}} ({{this.objectiveCount}})
      </button>
    </h3>
    {{#if @editable}}
      <span data-test-actions>
        <ExpandCollapseButton
          @value={{this.newObjectiveEditorOn}}
          @action={{this.toggleNewObjectiveEditor}}
          @expandButtonLabel={{t "general.addNew"}}
        />
      </span>
    {{/if}}
  </div>
  <div class="content">
    {{#if this.newObjectiveEditorOn}}
      <NewObjective
        @save={{perform this.saveNewObjective}}
        @cancel={{this.toggleNewObjectiveEditor}}
      />
    {{/if}}
    <Session::ObjectiveList
      @session={{@session}}
      @editable={{@editable}}
    />
  </div>
</section>
