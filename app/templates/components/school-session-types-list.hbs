<table>
  <thead>
    <tr>
      <th colspan=3>{{t 'general.title'}}</th>
      <th>{{t 'general.sessions'}}</th>
      <th>{{t 'general.assessment'}}</th>
      <th colspan=2>{{t 'general.assessmentOption'}}</th>
      <th colspan=2>{{t 'general.aamcMethod'}}</th>
      <th>{{t 'general.color'}}</th>
      <th>{{t 'general.actions'}}</th>
    </tr>
  </thead>
  <tbody>
    {{#each (sort-by 'title' sessionTypes) as |sessionType|}}
      <tr>
        <td colspan=3>
          <a class='clickable' {{action manageSessionType sessionType.id}}>
            {{sessionType.title}}
          </a>
        </td>
        <td>{{sessionType.sessionCount}}</td>
        <td>
          {{#if sessionType.assessment}}
            {{fa-icon 'check' class='yes'}}
          {{else}}
            {{fa-icon 'ban' class='no'}}
          {{/if}}
        </td>
        <td colspan=2>{{get (await sessionType.assessmentOption) 'name'}}</td>
        <td colspan=2>{{get (await sessionType.firstAamcMethod) 'description'}}</td>
        <td class='calendar-color'>
          <span class='box' style={{{concat 'background-color: ' sessionType.safeCalendarColor}}}></span>
        </td>
        <td>
          {{fa-icon 'edit' class='edit clickable' click=(action manageSessionType sessionType.id)}}
          {{#if (eq sessionType.sessionCount 0)}}
            {{#if (contains sessionType.id deletedSessionTypes)}}
              {{fa-icon 'spinner' spin=true}}
            {{else}}
              {{fa-icon 'trash' class=(if deleteSessionType.isRunning 'inactive' 'remove clickable') click=(perform deleteSessionType sessionType)}}
            {{/if}}
          {{/if}}
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>
